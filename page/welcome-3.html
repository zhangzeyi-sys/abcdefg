<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>用户中心 - 电影评价系统</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- 引入Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  
  <!-- 配置Tailwind自定义颜色和字体 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#E50914', // 保持电影系统的红色主色调
            secondary: '#0F172A',
            accent: '#F59E0B', // 星级评分的黄色
            dark: '#111827',
            light: '#F9FAFB'
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-hover {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      .nav-active {
        border-left: 3px solid theme('colors.primary');
        background-color: rgba(229, 9, 20, 0.1);
      }
      .scrollbar-thin {
        scrollbar-width: thin;
      }
      .scrollbar-thin::-webkit-scrollbar {
        width: 4px;
        height: 4px;
      }
      .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: rgba(156, 163, 175, 0.5);
        border-radius: 2px;
      }
    }
  </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800 min-h-screen flex flex-col">
  <!-- 顶部导航栏 -->
  <header class="bg-secondary text-white sticky top-0 z-50 shadow-lg transition-all duration-300">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- 左侧Logo和标题 -->
        <div class="flex items-center space-x-3">
          <div class="bg-primary p-2 rounded-lg">
            <i class="fa fa-film text-xl"></i>
          </div>
          <div>
            <h1 class="text-lg font-bold">电影评价系统</h1>
            <p class="text-xs text-gray-300">发现好电影，分享真实评价</p>
          </div>
        </div>
        
        <!-- 中间搜索框 - 仅在中等以上屏幕显示 -->
        <div class="hidden md:block relative w-1/3">
          <input type="text" placeholder="搜索电影、评价或用户..." class="w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm text-gray-100 placeholder-gray-400">
          <i class="fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
        </div>
        
        <!-- 右侧导航和用户信息 -->
        <div class="flex items-center space-x-6">
          <a href="#" class="text-gray-300 hover:text-white transition-colors hidden sm:block">
            <i class="fa fa-home text-lg"></i>
          </a>
          <a href="#" class="text-gray-300 hover:text-white transition-colors relative">
            <i class="fa fa-bell-o text-lg"></i>
            <span class="absolute -top-1 -right-1 bg-primary text-white text-xs w-4 h-4 flex items-center justify-center rounded-full">2</span>
          </a>
          <div class="flex items-center space-x-2">
            <img src="https://picsum.photos/id/1012/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover border border-gray-600">
            <span class="text-sm font-medium">李小明</span>
            <i class="fa fa-angle-down text-gray-400 text-xs"></i>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- 主要内容区域 -->
  <main class="flex-1 container mx-auto px-4 py-6">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
      <!-- 左侧导航菜单 -->
      <div class="lg:col-span-1">
        <div class="bg-white rounded-xl shadow-md overflow-hidden sticky top-20">
          <!-- 用户信息概览 -->
          <div class="p-5 bg-secondary text-white text-center">
            <img src="https://picsum.photos/id/1012/100/100" alt="李小明的头像" class="w-24 h-24 rounded-full object-cover border-4 border-primary mx-auto mb-3">
            <h3 class="font-bold text-lg">李小明</h3>
            <p class="text-gray-300 text-sm mt-1">电影爱好者 · 加入于2022-05-18</p>
            <div class="flex justify-center mt-3 space-x-4">
              <div>
                <div class="text-xl font-bold">42</div>
                <div class="text-xs text-gray-300">评价</div>
              </div>
              <div>
                <div class="text-xl font-bold">156</div>
                <div class="text-xs text-gray-300">收藏</div>
              </div>
              <div>
                <div class="text-xl font-bold">2.4k</div>
                <div class="text-xs text-gray-300">获赞</div>
              </div>
            </div>
          </div>
          
          <!-- 导航菜单 -->
          <nav class="p-2">
            <ul>
              <li>
                <a href="#profile" class="flex items-center px-4 py-3 text-primary nav-active rounded-lg transition-colors">
                  <i class="fa fa-user-circle-o w-6"></i>
                  <span class="ml-3">个人资料</span>
                </a>
              </li>
              <li>
                <a href="#reviews" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                  <i class="fa fa-comment-o w-6"></i>
                  <span class="ml-3">我的评价</span>
                </a>
              </li>
              <li>
                <a href="#favorites" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                  <i class="fa fa-heart-o w-6"></i>
                  <span class="ml-3">我的收藏</span>
                </a>
              </li>
              <li>
                <a href="#watchlist" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                  <i class="fa fa-list-o w-6"></i>
                  <span class="ml-3">观影清单</span>
                </a>
              </li>
              <li>
                <a href="#settings" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                  <i class="fa fa-cog w-6"></i>
                  <span class="ml-3">账户设置</span>
                </a>
              </li>
              <li>
                <a href="#" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors text-red-500">
                  <i class="fa fa-sign-out w-6"></i>
                  <span class="ml-3">退出登录</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
      
      <!-- 右侧内容区域 -->
      <div class="lg:col-span-3 space-y-6">
        <!-- 个人资料部分 -->
        <section id="profile" class="bg-white rounded-xl shadow-md p-6">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4">
            <h2 class="text-xl font-bold text-dark">个人资料</h2>
            <button class="text-primary hover:text-primary/80 text-sm transition-colors flex items-center">
              <i class="fa fa-edit mr-1"></i> 编辑资料
            </button>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h3 class="text-sm font-medium text-gray-500 mb-4">基本信息</h3>
              
              <div class="space-y-4">
                <div>
                  <label class="block text-xs text-gray-500 mb-1">用户名</label>
                  <p class="text-gray-800 font-medium">李小明</p>
                </div>
                
                <div>
                  <label class="block text-xs text-gray-500 mb-1">电子邮箱</label>
                  <p class="text-gray-800">lixiaoming@example.com</p>
                </div>
                
                <div>
                  <label class="block text-xs text-gray-500 mb-1">手机号码</label>
                  <p class="text-gray-800">138****5678</p>
                </div>
                
                <div>
                  <label class="block text-xs text-gray-500 mb-1">注册时间</label>
                  <p class="text-gray-800">2022年5月18日</p>
                </div>
                
                <div>
                  <label class="block text-xs text-gray-500 mb-1">最后登录</label>
                  <p class="text-gray-800">2023年8月16日 19:45</p>
                </div>
              </div>
            </div>
            
            <div>
              <h3 class="text-sm font-medium text-gray-500 mb-4">个人简介</h3>
              
              <div class="space-y-4">
                <div>
                  <label class="block text-xs text-gray-500 mb-1">简介</label>
                  <p class="text-gray-800 text-sm">热爱电影的程序员，偏爱科幻、悬疑和剧情片，偶尔也看喜剧放松一下。希望能在这里找到更多志同道合的影迷，交流观影心得。</p>
                </div>
                
                <div>
                  <label class="block text-xs text-gray-500 mb-1">喜好类型</label>
                  <div class="flex flex-wrap gap-2">
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs">科幻</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs">悬疑</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs">剧情</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs">喜剧</span>
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs">纪录片</span>
                  </div>
                </div>
                
                <div>
                  <label class="block text-xs text-gray-500 mb-1">常去影院</label>
                  <p class="text-gray-800">万达影城（CBD店）、UME国际影城（华贸中心）</p>
                </div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- 观影统计部分 -->
        <section class="bg-white rounded-xl shadow-md p-6">
          <h2 class="text-xl font-bold text-dark mb-6">观影统计</h2>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- 年度观影统计图表 -->
            <div>
              <h3 class="text-sm font-medium text-gray-500 mb-4">2023年度观影统计</h3>
              <div class="h-64">
                <canvas id="watchStatsChart"></canvas>
              </div>
            </div>
            
            <!-- 电影类型偏好 -->
            <div>
              <h3 class="text-sm font-medium text-gray-500 mb-4">电影类型偏好</h3>
              <div class="h-64">
                <canvas id="genrePreferenceChart"></canvas>
              </div>
            </div>
          </div>
          
          <!-- 统计数据卡片 -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-gray-500 text-sm mb-1">总观影量</div>
              <div class="text-2xl font-bold text-dark">138</div>
              <div class="text-green-500 text-xs mt-1">
                <i class="fa fa-arrow-up mr-1"></i> 较去年增长32%
              </div>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-gray-500 text-sm mb-1">平均评分</div>
              <div class="text-2xl font-bold text-dark">3.9 <span class="text-accent">★</span></div>
              <div class="text-yellow-500 text-xs mt-1">
                <i class="fa fa-minus mr-1"></i> 与去年持平
              </div>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-gray-500 text-sm mb-1">影院观影</div>
              <div class="text-2xl font-bold text-dark">42</div>
              <div class="text-green-500 text-xs mt-1">
                <i class="fa fa-arrow-up mr-1"></i> 较去年增长15%
              </div>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="text-gray-500 text-sm mb-1">最长观影日</div>
              <div class="text-2xl font-bold text-dark">3部</div>
              <div class="text-gray-500 text-xs mt-1">
                2023-02-12
              </div>
            </div>
          </div>
        </section>
        
        <!-- 最近评价部分 -->
        <section id="reviews" class="bg-white rounded-xl shadow-md p-6">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4">
            <h2 class="text-xl font-bold text-dark">最近评价</h2>
            <a href="#" class="text-primary hover:text-primary/80 text-sm transition-colors">
              查看全部 <i class="fa fa-angle-right ml-1"></i>
            </a>
          </div>
          
          <div class="space-y-6">
            <!-- 评价1 -->
            <div class="flex gap-4">
              <img src="https://picsum.photos/id/96/100/150" alt="奥本海默电影海报" class="w-20 h-30 object-cover rounded shadow flex-shrink-0">
              
              <div class="flex-1">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-1">
                  <h3 class="font-medium text-dark">奥本海默</h3>
                  <div class="flex items-center text-accent">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <span class="text-gray-500 text-sm ml-1">5.0</span>
                  </div>
                </div>
                
                <p class="text-gray-700 text-sm mb-3 line-clamp-2">诺兰的这部作品真是太震撼了！无论是剧情、摄影还是配乐都堪称完美。基里安·墨菲的表演令人难忘，将奥本海默的复杂内心世界展现得淋漓尽致。</p>
                
                <div class="flex items-center justify-between text-xs text-gray-500">
                  <span>2023-08-15</span>
                  <div class="flex items-center gap-4">
                    <span class="flex items-center"><i class="fa fa-thumbs-up mr-1"></i> 128</span>
                    <span class="flex items-center"><i class="fa fa-comment-o mr-1"></i> 32</span>
                    <button class="text-primary hover:underline">编辑</button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 评价2 -->
            <div class="flex gap-4">
              <img src="https://picsum.photos/id/26/100/150" alt="芭比电影海报" class="w-20 h-30 object-cover rounded shadow flex-shrink-0">
              
              <div class="flex-1">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-1">
                  <h3 class="font-medium text-dark">芭比</h3>
                  <div class="flex items-center text-accent">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-o"></i>
                    <i class="fa fa-star-o"></i>
                    <span class="text-gray-500 text-sm ml-1">3.0</span>
                  </div>
                </div>
                
                <p class="text-gray-700 text-sm mb-3 line-clamp-2">色彩非常丰富，音乐也很欢快，但剧情有点单薄。作为一部女性主题的电影，传递的价值观很积极，但感觉可以挖解得更深一些。</p>
                
                <div class="flex items-center justify-between text-xs text-gray-500">
                  <span>2023-08-10</span>
                  <div class="flex items-center gap-4">
                    <span class="flex items-center"><i class="fa fa-thumbs-up mr-1"></i> 86</span>
                    <span class="flex items-center"><i class="fa fa-comment-o mr-1"></i> 15</span>
                    <button class="text-primary hover:underline">编辑</button>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 评价3 -->
            <div class="flex gap-4">
              <img src="https://picsum.photos/id/42/100/150" alt="蜘蛛侠：纵横宇宙电影海报" class="w-20 h-30 object-cover rounded shadow flex-shrink-0">
              
              <div class="flex-1">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-1">
                  <h3 class="font-medium text-dark">蜘蛛侠：纵横宇宙</h3>
                  <div class="flex items-center text-accent">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-half-o"></i>
                    <span class="text-gray-500 text-sm ml-1">4.5</span>
                  </div>
                </div>
                
                <p class="text-gray-700 text-sm mb-3 line-clamp-2">视觉风格太惊艳了！每一帧都像艺术品一样，色彩和构图大胆创新。故事情节紧凑，角色塑造饱满，尤其是迈尔斯和格温的关系发展很动人。</p>
                
                <div class="flex items-center justify-between text-xs text-gray-500">
                  <span>2023-08-05</span>
                  <div class="flex items-center gap-4">
                    <span class="flex items-center"><i class="fa fa-thumbs-up mr-1"></i> 256</span>
                    <span class="flex items-center"><i class="fa fa-comment-o mr-1"></i> 48</span>
                    <button class="text-primary hover:underline">编辑</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- 最近收藏部分 -->
        <section id="favorites" class="bg-white rounded-xl shadow-md p-6">
          <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4">
            <h2 class="text-xl font-bold text-dark">最近收藏</h2>
            <a href="#" class="text-primary hover:text-primary/80 text-sm transition-colors">
              查看全部 <i class="fa fa-angle-right ml-1"></i>
            </a>
          </div>
          
          <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            <!-- 收藏电影1 -->
            <div class="card-hover rounded-lg overflow-hidden shadow-sm">
              <div class="relative">
                <img src="https://picsum.photos/id/111/300/450" alt="星际穿越电影海报" class="w-full aspect-[2/3] object-cover">
                <button class="absolute top-2 right-2 bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center">
                  <i class="fa fa-heart"></i>
                </button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2">
                  <div class="flex items-center text-white text-xs">
                    <i class="fa fa-star text-accent mr-1"></i>
                    <span>4.8</span>
                  </div>
                </div>
              </div>
              <div class="p-3">
                <h3 class="font-medium text-dark text-sm truncate">星际穿越</h3>
                <p class="text-gray-500 text-xs mt-1">2014 · 科幻/冒险</p>
              </div>
            </div>
            
            <!-- 收藏电影2 -->
            <div class="card-hover rounded-lg overflow-hidden shadow-sm">
              <div class="relative">
                <img src="https://picsum.photos/id/237/300/450" alt="盗梦空间电影海报" class="w-full aspect-[2/3] object-cover">
                <button class="absolute top-2 right-2 bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center">
                  <i class="fa fa-heart"></i>
                </button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2">
                  <div class="flex items-center text-white text-xs">
                    <i class="fa fa-star text-accent mr-1"></i>
                    <span>4.7</span>
                  </div>
                </div>
              </div>
              <div class="p-3">
                <h3 class="font-medium text-dark text-sm truncate">盗梦空间</h3>
                <p class="text-gray-500 text-xs mt-1">2010 · 科幻/悬疑</p>
              </div>
            </div>
            
            <!-- 收藏电影3 -->
            <div class="card-hover rounded-lg overflow-hidden shadow-sm">
              <div class="relative">
                <img src="https://picsum.photos/id/160/300/450" alt="黑客帝国电影海报" class="w-full aspect-[2/3] object-cover">
                <button class="absolute top-2 right-2 bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center">
                  <i class="fa fa-heart"></i>
                </button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2">
                  <div class="flex items-center text-white text-xs">
                    <i class="fa fa-star text-accent mr-1"></i>
                    <span>4.6</span>
                  </div>
                </div>
              </div>
              <div class="p-3">
                <h3 class="font-medium text-dark text-sm truncate">黑客帝国</h3>
                <p class="text-gray-500 text-xs mt-1">1999 · 科幻/动作</p>
              </div>
            </div>
            
            <!-- 收藏电影4 -->
            <div class="card-hover rounded-lg overflow-hidden shadow-sm">
              <div class="relative">
                <img src="https://picsum.photos/id/175/300/450" alt="蝙蝠侠：黑暗骑士电影海报" class="w-full aspect-[2/3] object-cover">
                <button class="absolute top-2 right-2 bg-primary text-white w-6 h-6 rounded-full flex items-center justify-center">
                  <i class="fa fa-heart"></i>
                </button>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2">
                  <div class="flex items-center text-white text-xs">
                    <i class="fa fa-star text-accent mr-1"></i>
                    <span>4.9</span>
                  </div>
                </div>
              </div>
              <div class="p-3">
                <h3 class="font-medium text-dark text-sm truncate">蝙蝠侠：黑暗骑士</h3>
                <p class="text-gray-500 text-xs mt-1">2008 · 动作/犯罪</p>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>
  
  <!-- 页脚 -->
  <footer class="bg-secondary text-gray-300 py-6 mt-12">
    <div class="container mx-auto px-4">
      <div class="text-center text-sm">
        © 2023 电影评价系统 | 版权所有
      </div>
    </div>
  </footer>
  
  <!-- 编辑资料模态框 (默认隐藏) -->
  <div id="editProfileModal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center p-4">
    <div class="bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-lg">
      <div class="p-5 border-b border-gray-200 flex justify-between items-center">
        <h3 class="font-semibold text-dark text-lg">编辑个人资料</h3>
        <button id="closeEditModal" class="text-gray-400 hover:text-gray-600 transition-colors">
          <i class="fa fa-times"></i>
        </button>
      </div>
      <div class="p-5">
        <form>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
            <div class="md:col-span-1">
              <label class="block text-sm font-medium text-gray-700 mb-2">头像</label>
              <div class="flex flex-col items-center">
                <img src="https://picsum.photos/id/1012/100/100" alt="当前头像" class="w-24 h-24 rounded-full object-cover border-2 border-gray-200 mb-3">
                <button type="button" class="text-primary hover:text-primary/80 text-sm transition-colors flex items-center">
                  <i class="fa fa-upload mr-1"></i> 更换头像
                </button>
                <p class="text-xs text-gray-500 mt-1">支持JPG、PNG格式，建议尺寸200x200</p>
              </div>
            </div>
            
            <div class="md:col-span-2 space-y-4">
              <div>
                <label for="username" class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
                <input type="text" id="username" value="李小明" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm">
              </div>
              
              <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">电子邮箱</label>
                <input type="email" id="email" value="lixiaoming@example.com" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm">
              </div>
              
              <div>
                <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">手机号码</label>
                <input type="tel" id="phone" value="13800138000" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm">
              </div>
            </div>
          </div>
          
          <div class="mb-6">
            <label for="bio" class="block text-sm font-medium text-gray-700 mb-2">个人简介</label>
            <textarea id="bio" rows="4" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm resize-none">热爱电影的程序员，偏爱科幻、悬疑和剧情片，偶尔也看喜剧放松一下。希望能在这里找到更多志同道合的影迷，交流观影心得。</textarea>
            <p class="text-xs text-gray-500 mt-1">最多500个字符</p>
          </div>
          
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">喜好类型</label>
            <div class="flex flex-wrap gap-2 mb-3">
              <span class="px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm flex items-center">
                科幻
                <button type="button" class="ml-1 text-primary/70 hover:text-primary">
                  <i class="fa fa-times-circle"></i>
                </button>
              </span>
              <span class="px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm flex items-center">
                悬疑
                <button type="button" class="ml-1 text-primary/70 hover:text-primary">
                  <i class="fa fa-times-circle"></i>
                </button>
              </span>
              <span class="px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm flex items-center">
                剧情
                <button type="button" class="ml-1 text-primary/70 hover:text-primary">
                  <i class="fa fa-times-circle"></i>
                </button>
              </span>
              <span class="px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm flex items-center">
                喜剧
                <button type="button" class="ml-1 text-primary/70 hover:text-primary">
                  <i class="fa fa-times-circle"></i>
                </button>
              </span>
              <span class="px-3 py-1.5 bg-primary/10 text-primary rounded-full text-sm flex items-center">
                纪录片
                <button type="button" class="ml-1 text-primary/70 hover:text-primary">
                  <i class="fa fa-times-circle"></i>
                </button>
              </span>
            </div>
            
            <div class="relative w-64">
              <input type="text" placeholder="添加电影类型..." class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm">
              <button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 bg-primary text-white px-2 py-0.5 rounded text-xs">
                添加
              </button>
            </div>
          </div>
          
          <div class="mb-6">
            <label for="cinemas" class="block text-sm font-medium text-gray-700 mb-1">常去影院</label>
            <input type="text" id="cinemas" value="万达影城（CBD店）、UME国际影城（华贸中心）" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all text-sm">
          </div>
          
          <div class="flex justify-end gap-3">
            <button type="button" id="cancelEdit" class="border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-all">
              取消
            </button>
            <button type="submit" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-all">
              保存修改
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  
  <script>
    // 初始化图表
    document.addEventListener('DOMContentLoaded', function() {
      // 年度观影统计图表
      const watchStatsCtx = document.getElementById('watchStatsChart').getContext('2d');
      new Chart(watchStatsCtx, {
        type: 'line',
        data: {
          labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
          datasets: [{
            label: '观影数量',
            data: [8, 12, 10, 15, 9, 14, 16, 12, 0, 0, 0, 0],
            borderColor: '#E50914',
            backgroundColor: 'rgba(229, 9, 20, 0.1)',
            tension: 0.4,
            fill: true,
            pointBackgroundColor: '#E50914',
            pointRadius: 3,
            pointHoverRadius: 5
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0, 0, 0, 0.05)'
              },
              ticks: {
                precision: 0
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          }
        }
      });
      
      // 电影类型偏好图表
      const genreCtx = document.getElementById('genrePreferenceChart').getContext('2d');
      new Chart(genreCtx, {
        type: 'doughnut',
        data: {
          labels: ['科幻', '悬疑', '剧情', '喜剧', '纪录片', '其他'],
          datasets: [{
            data: [35, 20, 18, 12, 8, 7],
            backgroundColor: [
              '#E50914',
              '#F87171',
              '#FBBF24',
              '#3B82F6',
              '#10B981',
              '#94A3B8'
            ],
            borderWidth: 0,
            hoverOffset: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                padding: 15,
                boxWidth: 10,
                usePointStyle: true,
                pointStyle: 'circle'
              }
            }
          },
          cutout: '65%',
          animation: {
            animateRotate: true,
            animateScale: true
          }
        }
      });
      
      // 编辑资料模态框控制
      const editProfileBtn = document.querySelector('button:has(.fa-edit)');
      const editProfileModal = document.getElementById('editProfileModal');
      const closeEditModal = document.getElementById('closeEditModal');
      const cancelEdit = document.getElementById('cancelEdit');
      
      editProfileBtn.addEventListener('click', () => {
        editProfileModal.classList.remove('hidden');
        editProfileModal.classList.add('flex');
        document.body.style.overflow = 'hidden';
      });
      
      function hideEditModal() {
        editProfileModal.classList.add('hidden');
        editProfileModal.classList.remove('flex');
        document.body.style.overflow = '';
      }
      
      closeEditModal.addEventListener('click', hideEditModal);
      cancelEdit.addEventListener('click', hideEditModal);
      
      // 点击模态框外部关闭
      editProfileModal.addEventListener('click', (e) => {
        if (e.target === editProfileModal) {
          hideEditModal();
        }
      });
      
      // 滚动时导航栏效果
      const header = document.querySelector('header');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 10) {
          header.classList.add('bg-dark');
          header.classList.remove('bg-secondary');
        } else {
          header.classList.remove('bg-dark');
          header.classList.add('bg-secondary');
        }
      });
      
      // 导航菜单激活状态切换
      const navLinks = document.querySelectorAll('nav a');
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          // 移除所有激活状态
          navLinks.forEach(item => {
            item.classList.remove('nav-active', 'text-primary');
            item.classList.add('text-gray-700');
          });
          
          // 为当前点击项添加激活状态
          e.currentTarget.classList.add('nav-active', 'text-primary');
          e.currentTarget.classList.remove('text-gray-700');
        });
      });
      
      // 平滑滚动
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          
          if (targetElement) {
            window.scrollTo({
              top: targetElement.offsetTop - 80,
              behavior: 'smooth'
            });
          }
        });
      });
    });
  </script>
</body>
</html>
