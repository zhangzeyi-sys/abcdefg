<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>电影评价 - 在线电影评价系统</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#FF7D00',
                        dark: '#1E293B',
                        light: '#F8FAFC'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .rating-active {
                color: #FF7D00;
            }
            .form-focus {
                @apply focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-dark">
    <!-- 导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <a href="#" class="flex items-center space-x-2">
                <i class="fa fa-film text-primary text-2xl"></i>
                <span class="text-xl font-bold text-primary">电影评价系统</span>
            </a>
            
            <nav class="hidden md:flex items-center space-x-6">
               
                <a href="#" class="text-primary font-medium border-b-2 border-primary pb-1">写评价</a>
               
                <a href="#" class="text-gray-600 hover:text-primary transition-colors">我的评价</a>
            </nav>
            
            <div class="flex items-center space-x-4">
                <a href="#" class="hidden md:block text-gray-600 hover:text-primary transition-colors">
                    <i class="fa fa-user-circle text-xl"></i>
                </a>
                <button class="md:hidden text-gray-600" id="mobile-menu-button">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- 移动端菜单 -->
        <div class="md:hidden hidden bg-white border-t" id="mobile-menu">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
            
                <a href="#" class="py-2 text-primary font-medium">写评价</a>
                
                <a href="#" class="py-2 text-gray-600 hover:text-primary transition-colors">我的评价</a>
                <a href="#" class="py-2 text-gray-600 hover:text-primary transition-colors">
                    <i class="fa fa-user-circle mr-2"></i>个人中心
                </a>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 py-8 md:py-12">
        <!-- 页面标题 -->
        <div class="text-center mb-10">
            <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark mb-3">分享你的观影体验</h1>
            <p class="text-gray-500 max-w-2xl mx-auto">你的评价将帮助其他观众发现好电影，也能为电影创作者提供宝贵反馈</p>
        </div>
        
        <!-- 评价表单卡片 -->
        <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-md overflow-hidden transform transition-all duration-300 hover:shadow-lg">
            <!-- 电影信息预览 -->
            <div class="bg-gray-50 border-b p-6">
                <div class="flex flex-col md:flex-row gap-6">
                    <div class="w-full md:w-1/4 lg:w-1/5">
                        <div class="relative rounded-lg overflow-hidden shadow-md aspect-[2/3]">
                            <img id="movie-poster" src="https://picsum.photos/id/237/400/600" alt="电影海报" class="w-full h-full object-cover transition-transform duration-500 hover:scale-105">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                        </div>
                    </div>
                    
                    <div class="w-full md:w-3/4 lg:w-4/5 flex flex-col justify-between">
                        <div>
                            <div class="flex flex-wrap items-start gap-3 mb-3">
                                <h2 id="movie-title" class="text-[clamp(1.3rem,3vw,1.8rem)] font-bold">流浪地球3</h2>
                                <span id="movie-year" class="bg-primary/10 text-primary text-sm px-2 py-1 rounded-full self-center">2024</span>
                                <span id="movie-genre" class="bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded-full self-center">科幻/冒险</span>
                            </div>
                            
                            <p id="movie-description" class="text-gray-600 mb-4 line-clamp-2 md:line-clamp-3">在未来的几十年里，太阳急速衰老膨胀，人类启动"流浪地球"计划，试图带着地球一起逃离太阳系，寻找新的家园。面对前所未有的挑战，人类必须团结一心，共同拯救地球和人类的未来...</p>
                            
                            <div class="flex flex-wrap gap-4 text-sm text-gray-500">
                                <div><i class="fa fa-clock-o mr-1"></i> <span id="movie-duration">173分钟</span></div>
                                <div><i class="fa fa-star text-secondary mr-1"></i> <span id="movie-rating">8.7 (12,345人评价)</span></div>
                                <div><i class="fa fa-calendar mr-1"></i> <span id="movie-release">2024-02-10上映</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 评价表单 -->
            <form id="rating-form" class="p-6 md:p-8">
                <!-- 电影选择（如果需要更换电影） -->
                <div class="mb-8">
                    <label for="movie-select" class="block text-gray-700 font-medium mb-2">选择电影</label>
                    <div class="relative">
                        <select id="movie-select" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg appearance-none form-focus transition-all">
                            <option value="movie1" selected>流浪地球3</option>
                            <option value="movie2">奥本海默</option>
                            <option value="movie3">芭比</option>
                            <option value="movie4">蜘蛛侠：纵横宇宙</option>
                            <option value="movie5">银河护卫队3</option>
                        </select>
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-400">
                            <i class="fa fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 总体评分 -->
                <div class="mb-8">
                    <label class="block text-gray-700 font-medium mb-3">总体评分</label>
                    <div class="flex items-center gap-2 text-2xl md:text-3xl" id="rating-stars">
                        <i class="fa fa-star cursor-pointer transition-transform hover:scale-110" data-rating="1"></i>
                        <i class="fa fa-star cursor-pointer transition-transform hover:scale-110" data-rating="2"></i>
                        <i class="fa fa-star cursor-pointer transition-transform hover:scale-110" data-rating="3"></i>
                        <i class="fa fa-star cursor-pointer transition-transform hover:scale-110" data-rating="4"></i>
                        <i class="fa fa-star cursor-pointer transition-transform hover:scale-110" data-rating="5"></i>
                    </div>
                    <p class="text-gray-500 text-sm mt-2">请给出你的总体评价（1-5星）</p>
                </div>
                
                <!-- 分项评分 -->
                <div class="mb-8 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">剧情评分</label>
                        <div class="flex items-center gap-2 text-xl" id="story-rating">
                            <i class="fa fa-star cursor-pointer" data-rating="1"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="2"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="3"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="4"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="5"></i>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">演员表现</label>
                        <div class="flex items-center gap-2 text-xl" id="acting-rating">
                            <i class="fa fa-star cursor-pointer" data-rating="1"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="2"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="3"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="4"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="5"></i>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">视觉效果</label>
                        <div class="flex items-center gap-2 text-xl" id="visual-rating">
                            <i class="fa fa-star cursor-pointer" data-rating="1"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="2"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="3"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="4"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="5"></i>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">音效/配乐</label>
                        <div class="flex items-center gap-2 text-xl" id="sound-rating">
                            <i class="fa fa-star cursor-pointer" data-rating="1"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="2"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="3"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="4"></i>
                            <i class="fa fa-star cursor-pointer" data-rating="5"></i>
                        </div>
                    </div>
                </div>
                
                <!-- 评价内容 -->
                <div class="mb-8">
                    <label for="review-content" class="block text-gray-700 font-medium mb-2">
                        你的评价 <span class="text-gray-500 text-sm font-normal">(至少10个字)</span>
                    </label>
                    <textarea 
                        id="review-content" 
                        rows="5" 
                        placeholder="分享你的观影感受...比如剧情亮点、演员表现、印象深刻的场景等..."
                        class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg form-focus resize-none transition-all"
                    ></textarea>
                    <div class="flex justify-between mt-2">
                        <p class="text-gray-500 text-sm" id="char-count">0/500字</p>
                        <div id="content-error" class="text-red-500 text-sm hidden">请输入至少10个字的评价</div>
                    </div>
                </div>
                
                <!-- 观影体验 -->
                <div class="mb-8">
                    <label class="block text-gray-700 font-medium mb-3">你的观影体验</label>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3">
                        <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <input type="radio" name="experience" value="cinema" class="mr-3 text-primary focus:ring-primary">
                            <span>电影院观看</span>
                        </label>
                        <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <input type="radio" name="experience" value="streaming" class="mr-3 text-primary focus:ring-primary">
                            <span>在线流媒体</span>
                        </label>
                        <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <input type="radio" name="experience" value="disk" class="mr-3 text-primary focus:ring-primary">
                            <span>蓝光/DVD</span>
                        </label>
                        <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <input type="radio" name="experience" value="first" class="mr-3 text-primary focus:ring-primary">
                            <span>首映观影</span>
                        </label>
                        <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <input type="radio" name="experience" value="rewatch" class="mr-3 text-primary focus:ring-primary">
                            <span>二刷/多刷</span>
                        </label>
                        <label class="flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors">
                            <input type="radio" name="experience" value="group" class="mr-3 text-primary focus:ring-primary">
                            <span>与朋友一起</span>
                        </label>
                    </div>
                </div>
                
                <!-- 标签选择 -->
                <div class="mb-8">
                    <label class="block text-gray-700 font-medium mb-3">选择标签（可选）</label>
                    <div class="flex flex-wrap gap-2">
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="推荐" class="mr-2 text-primary focus:ring-primary">
                            <span>推荐</span>
                        </label>
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="剧情紧凑" class="mr-2 text-primary focus:ring-primary">
                            <span>剧情紧凑</span>
                        </label>
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="视觉震撼" class="mr-2 text-primary focus:ring-primary">
                            <span>视觉震撼</span>
                        </label>
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="值得二刷" class="mr-2 text-primary focus:ring-primary">
                            <span>值得二刷</span>
                        </label>
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="演员出色" class="mr-2 text-primary focus:ring-primary">
                            <span>演员出色</span>
                        </label>
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="特效惊艳" class="mr-2 text-primary focus:ring-primary">
                            <span>特效惊艳</span>
                        </label>
                        <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                            <input type="checkbox" name="tags" value="音乐好听" class="mr-2 text-primary focus:ring-primary">
                            <span>音乐好听</span>
                        </label>
                        <div class="relative group">
                            <label class="inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm cursor-pointer hover:bg-gray-200 transition-colors">
                                <input type="checkbox" id="custom-tag-checkbox" class="mr-2 text-primary focus:ring-primary">
                                <span>自定义</span>
                            </label>
                            <div id="custom-tag-input" class="absolute left-0 top-full mt-2 hidden group-hover:block">
                                <input type="text" placeholder="输入自定义标签" class="px-3 py-2 border border-gray-200 rounded-lg text-sm w-40 form-focus">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 提交按钮 -->
                <div class="flex flex-col sm:flex-row gap-4 justify-end pt-4 border-t border-gray-100">
                    <button type="button" class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                        保存草稿
                    </button>
                    <button type="submit" class="px-8 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors shadow-sm hover:shadow flex items-center justify-center gap-2">
                        <span>发布评价</span>
                        <i class="fa fa-paper-plane"></i>
                    </button>
                </div>
            </form>
        </div>
        
        <!-- 评价指南 -->
        <div class="max-w-4xl mx-auto mt-10 bg-blue-50 border border-blue-100 rounded-lg p-5">
            <h3 class="flex items-center text-primary font-medium mb-3">
                <i class="fa fa-lightbulb-o mr-2"></i> 评价指南
            </h3>
            <ul class="text-gray-600 text-sm space-y-2">
                <li class="flex items-start">
                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                    <span>请客观评价电影内容，分享真实感受</span>
                </li>
                <li class="flex items-start">
                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                    <span>避免剧透过多，尊重未观影用户的体验</span>
                </li>
                <li class="flex items-start">
                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                    <span>禁止发布违法、侵权、辱骂等不当内容</span>
                </li>
                <li class="flex items-start">
                    <i class="fa fa-check-circle text-primary mt-1 mr-2"></i>
                    <span>详细的评价将帮助更多用户了解这部电影</span>
                </li>
            </ul>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-dark text-gray-400 mt-16">
        <div class="container mx-auto px-4 py-10">
            <div class="flex flex-col md:flex-row justify-between gap-8">
                <div class="max-w-md">
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fa fa-film text-primary text-2xl"></i>
                        <span class="text-xl font-bold text-white">电影评价系统</span>
                    </div>
                    <p class="text-sm">分享你的观影体验，发现更多好电影。我们致力于打造一个真实、客观、有价值的电影评价社区。</p>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
                    <div>
                        <h4 class="text-white font-medium mb-4">快速链接</h4>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" class="hover:text-primary transition-colors">首页</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">电影列表</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">排行榜</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">最新评价</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-white font-medium mb-4">帮助中心</h4>
                        <ul class="space-y-2 text-sm">
                            <li><a href="#" class="hover:text-primary transition-colors">使用指南</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">评价规则</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">常见问题</a></li>
                            <li><a href="#" class="hover:text-primary transition-colors">联系我们</a></li>
                        </ul>
                    </div>
                    
                    <div class="col-span-2 md:col-span-1">
                        <h4 class="text-white font-medium mb-4">关注我们</h4>
                        <div class="flex space-x-4 mb-4">
                            <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-primary transition-colors">
                                <i class="fa fa-weibo"></i>
                            </a>
                            <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-primary transition-colors">
                                <i class="fa fa-wechat"></i>
                            </a>
                            <a href="#" class="w-10 h-10 rounded-full bg-gray-800 flex items-center justify-center hover:bg-primary transition-colors">
                                <i class="fa fa-instagram"></i>
                            </a>
                        </div>
                        <p class="text-sm">订阅最新电影资讯和评价推荐</p>
                        <div class="mt-2 flex">
                            <input type="email" placeholder="你的邮箱" class="px-3 py-2 bg-gray-800 border border-gray-700 rounded-l-lg text-sm focus:outline-none focus:border-primary w-full">
                            <button class="bg-primary px-3 py-2 rounded-r-lg hover:bg-primary/90 transition-colors">
                                <i class="fa fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-sm text-center">
                <p>© 2024 电影评价系统 版权所有 | 隐私政策 | 用户协议</p>
            </div>
        </div>
    </footer>

    <!-- 提交成功弹窗 -->
    <div id="success-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0" id="modal-content">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fa fa-check text-2xl text-green-500"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">评价提交成功！</h3>
                <p class="text-gray-600 mb-6">你的评价已成功发布，感谢你的分享！</p>
                <div class="flex gap-3">
                    <a href="#" class="flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                        查看我的评价
                    </a>
                    <button id="close-modal" class="flex-1 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">
                        返回电影页
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 电影数据
        const movies = {
            movie1: {
                title: "流浪地球3",
                year: "2024",
                genre: "科幻/冒险",
                description: "在未来的几十年里，太阳急速衰老膨胀，人类启动\"流浪地球\"计划，试图带着地球一起逃离太阳系，寻找新的家园。面对前所未有的挑战，人类必须团结一心，共同拯救地球和人类的未来...",
                duration: "173分钟",
                rating: "8.7 (12,345人评价)",
                release: "2024-02-10上映",
                poster: "https://picsum.photos/id/237/400/600"
            },
            movie2: {
                title: "奥本海默",
                year: "2023",
                genre: "传记/历史/剧情",
                description: "影片聚焦\"原子弹之父\"罗伯特·奥本海默的一生，讲述他领导研制原子弹的过程，以及之后所面临的政治迫害。这是一部关于天才、道德和权力的史诗巨作。",
                duration: "180分钟",
                rating: "8.9 (23,456人评价)",
                release: "2023-07-21上映",
                poster: "https://picsum.photos/id/238/400/600"
            },
            movie3: {
                title: "芭比",
                year: "2023",
                genre: "喜剧/奇幻/冒险",
                description: "在芭比乐园里，各种各样的芭比和肯每天都过着完美的生活。直到有一天，经典芭比发现自己的生活出现了不完美的迹象，她必须前往真实世界寻找答案。",
                duration: "114分钟",
                rating: "7.8 (34,567人评价)",
                release: "2023-07-21上映",
                poster: "https://picsum.photos/id/239/400/600"
            },
            movie4: {
                title: "蜘蛛侠：纵横宇宙",
                year: "2023",
                genre: "动画/动作/科幻",
                description: "迈尔斯·莫拉莱斯继续担任蜘蛛侠，与格温·史黛西携手穿越多元宇宙，遇到了来自不同宇宙的蜘蛛侠组成的联盟，共同对抗一个强大的新反派。",
                duration: "140分钟",
                rating: "9.0 (45,678人评价)",
                release: "2023-06-02上映",
                poster: "https://picsum.photos/id/240/400/600"
            },
            movie5: {
                title: "银河护卫队3",
                year: "2023",
                genre: "动作/科幻/冒险",
                description: "银河护卫队的成员们正在安顿下来，但火箭浣熊的往事侵扰着他。为了保护火箭，星爵带领团队踏上最后一次冒险，直面他们的过去，为了保护他们所爱的人而战斗。",
                duration: "150分钟",
                rating: "8.5 (56,789人评价)",
                release: "2023-05-05上映",
                poster: "https://picsum.photos/id/241/400/600"
            }
        };
        
        // 电影选择下拉框变化时更新电影信息
        const movieSelect = document.getElementById('movie-select');
        
        movieSelect.addEventListener('change', () => {
            const selectedMovieId = movieSelect.value;
            const movie = movies[selectedMovieId];
            
            // 更新电影信息
            document.getElementById('movie-title').textContent = movie.title;
            document.getElementById('movie-year').textContent = movie.year;
            document.getElementById('movie-genre').textContent = movie.genre;
            document.getElementById('movie-description').textContent = movie.description;
            document.getElementById('movie-duration').textContent = movie.duration;
            document.getElementById('movie-rating').textContent = movie.rating;
            document.getElementById('movie-release').textContent = movie.release;
            
            // 更新电影海报（添加淡入淡出效果）
            const posterImg = document.getElementById('movie-poster');
            posterImg.style.opacity = '0';
            
            setTimeout(() => {
                posterImg.src = movie.poster;
                posterImg.alt = movie.title;
                posterImg.style.opacity = '1';
            }, 300);
            
            // 重置评分
            resetAllRatings();
            
            // 清空评价内容
            document.getElementById('review-content').value = '';
            document.getElementById('char-count').textContent = '0/500字';
            
            // 重置表单其他选项
            document.querySelectorAll('input[type="radio"]:checked').forEach(radio => {
                radio.checked = false;
            });
            
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                checkbox.checked = false;
            });
            
            document.getElementById('custom-tag-input').classList.add('hidden');
        });
        
        // 移动端菜单切换
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // 导航栏滚动效果
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('py-2', 'shadow');
                header.classList.remove('py-3');
            } else {
                header.classList.add('py-3');
                header.classList.remove('py-2', 'shadow');
            }
        });
        
        // 星级评分功能
        function setupRating(ratingElementId) {
            const ratingElement = document.getElementById(ratingElementId);
            const stars = ratingElement.querySelectorAll('i');
            
            stars.forEach(star => {
                // 鼠标悬停效果
                star.addEventListener('mouseover', () => {
                    const rating = parseInt(star.dataset.rating);
                    highlightStars(stars, rating);
                });
                
                // 点击选择评分
                star.addEventListener('click', () => {
                    const rating = parseInt(star.dataset.rating);
                    highlightStars(stars, rating, true);
                    
                    // 存储选中的评分值
                    ratingElement.dataset.selectedRating = rating;
                });
            });
            
            // 鼠标离开时显示已选中的评分
            ratingElement.addEventListener('mouseout', () => {
                const selectedRating = ratingElement.dataset.selectedRating;
                if (selectedRating) {
                    highlightStars(stars, parseInt(selectedRating), true);
                } else {
                    resetStars(stars);
                }
            });
        }
        
        // 高亮星级
        function highlightStars(stars, count, isSelected = false) {
            resetStars(stars);
            for (let i = 0; i < count; i++) {
                stars[i].classList.add('rating-active');
            }
            
            // 如果是选中状态，添加不同的样式
            if (isSelected) {
                stars.forEach((star, index) => {
                    if (index < count) {
                        star.classList.add('text-secondary');
                    }
                });
            }
        }
        
        // 重置星级
        function resetStars(stars) {
            stars.forEach(star => {
                star.classList.remove('rating-active', 'text-secondary');
            });
        }
        
        // 重置所有评分
        function resetAllRatings() {
            const ratingElements = ['rating-stars', 'story-rating', 'acting-rating', 'visual-rating', 'sound-rating'];
            ratingElements.forEach(id => {
                const element = document.getElementById(id);
                element.dataset.selectedRating = '';
                resetStars(element.querySelectorAll('i'));
            });
        }
        
        // 初始化所有评分组件
        setupRating('rating-stars');
        setupRating('story-rating');
        setupRating('acting-rating');
        setupRating('visual-rating');
        setupRating('sound-rating');
        
        // 字符计数功能
        const reviewContent = document.getElementById('review-content');
        const charCount = document.getElementById('char-count');
        const contentError = document.getElementById('content-error');
        
        reviewContent.addEventListener('input', () => {
            const length = reviewContent.value.length;
            charCount.textContent = `${length}/500字`;
            
            // 检查字符长度
            if (length > 0 && length < 10) {
                contentError.classList.remove('hidden');
            } else {
                contentError.classList.add('hidden');
            }
            
            // 限制最大长度
            if (length > 500) {
                reviewContent.value = reviewContent.value.substring(0, 500);
                charCount.textContent = '500/500字';
            }
        });
        
        // 自定义标签显示/隐藏
        const customTagCheckbox = document.getElementById('custom-tag-checkbox');
        const customTagInput = document.getElementById('custom-tag-input');
        
        customTagCheckbox.addEventListener('change', () => {
            if (customTagCheckbox.checked) {
                customTagInput.classList.remove('hidden');
                customTagInput.querySelector('input').focus();
            } else {
                customTagInput.classList.add('hidden');
            }
        });
        
        // 表单提交处理
        const ratingForm = document.getElementById('rating-form');
        const successModal = document.getElementById('success-modal');
        const modalContent = document.getElementById('modal-content');
        const closeModal = document.getElementById('close-modal');
        
        ratingForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // 简单验证
            const overallRating = document.getElementById('rating-stars').dataset.selectedRating;
            const reviewLength = reviewContent.value.length;
            
            if (!overallRating) {
                alert('请给出总体评分');
                return;
            }
            
            if (reviewLength < 10) {
                contentError.classList.remove('hidden');
                reviewContent.focus();
                return;
            }
            
            // 显示成功弹窗
            successModal.classList.remove('hidden');
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        });
        
        // 关闭弹窗
        closeModal.addEventListener('click', () => {
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                successModal.classList.add('hidden');
            }, 300);
        });
        
        // 点击弹窗外部关闭
        successModal.addEventListener('click', (e) => {
            if (e.target === successModal) {
                closeModal.click();
            }
        });
    </script>
</body>
</html>
